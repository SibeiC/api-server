#!/bin/bash

set -uo pipefail

echo "ğŸ” Running tests before push..."

# Run Maven tests with the CI profile
mvn test -Pci

# If tests fail, block the push
if [ $? -ne 0 ]; then
    echo "âŒ Tests failed â€” push aborted."
    exit 1
fi

echo "âœ… All tests passed â€” proceeding with push."
exit 0

